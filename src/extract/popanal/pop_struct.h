typedef struct range_type {
    uint32_t	stime;	
    uint32_t	etime;	
} Range;

typedef struct timbinstatus_type {
    unsigned char	valid;
} TimeBinStatus;

typedef struct corr_result_type {
    int32_t		nbins;
    int32_t		zbin;
    float	peakcorr;
    float	zerocorr;
    int32_t		peakphase;
    float	meanphase;
    float	distance;
    int32_t		totalcount;
    int32_t		valid;
    float	expected_corr;
    float	sd_corr;
    float	meanrate;
    float	minrate;
    float	maxrate;
} CorrResult;

typedef struct clusterdir_type {
    char	path[80];
    char	dirname[80];
    char	filename[40];
    int16_t	clusterid;
    int16_t	ignore;
    float	parameter;
} ClusterDir;

typedef struct position_type {
    float		x;
    float		y;
} Position;

typedef struct dual_position_type {
    float		x;
    float		y;
    float		x2;
    float		y2;
} DualPosition;

typedef struct grid_position_type {
    int32_t		x;
    int32_t		y;
} GridPosition;

typedef struct tnode_type {
    struct tnode_type	*next;
    struct tnode_type	*child;
    int16_t		id;
    int32_t			ntraversals;
    float		px,py;
    float		pcumdistance;
    int32_t			npositions;
} TNode;

typedef struct corrlist_type {
    int32_t		index;
    float	corrsum;
} CorrList;

typedef struct result_type {
    int32_t		nclusters;
    int32_t		nreconclusters;
    int32_t		ntimebins;
    int32_t		nrecontimebins;
    uint32_t	tstart;
    uint32_t 	tend;
    uint32_t	recontstart;
    uint32_t 	recontend;
    int32_t	binsize;
    uint32_t 	**spikearray;
    float 	**datavector;
    float 	**reconvector;
    float 	*datasum;
    float 	*datasqr;
    float	*valcorr;
    int32_t		*nvalcorr;
    int32_t		*spikecount;
    int32_t		*reconspikecount;
    int32_t		xmax;
    int32_t		ymax;
    int32_t		xlo;
    int32_t		ylo;
    int32_t		xhi;
    int32_t		yhi;
    int32_t		gxlo;
    int32_t		gylo;
    int32_t		gxhi;
    int32_t		gyhi;
    int32_t		datatype;
    float	**corrmatrix;
    float	***positiongrid;
    float	***positiongridzero;
    float	**corrgrid;
    float	**smoothcorrgrid;
    float	**maggrid;
    float	**truemaggrid;
    float	**sparsegrid;
    float	**perrgrid;
    float	**smoothperrgrid;
    float	**occgrid;
    float	**trueoccgrid;
    float	*sparsevec;
    int32_t		normalize;
    int32_t		peaknormalize;
    int32_t		lump;
    int32_t		hasposition;
    int32_t		hasspatialfiring;
    ClusterDir	*pdir;
    FILE	*fppout;
    FILE	*fpcorrout;
    FILE	*fppdir;
    FILE	*fpdir;
    FILE	*fpdirrecon;
    FILE	*fpout;
    FILE	*fpmagout;
    FILE	*fpsparsegridout;
    FILE	*fpsparsevecout;
    FILE	*fppopvecout;
    FILE	*fppfile;
    FILE	*fpperrgrid;
    FILE	*fppouterr;
    FILE	*fptreeout;
    FILE	*fpreplayout;
    FILE	*fpreplaydot;
    FILE	*fpreplaycorr;
    FILE	*fpspikecorr;
    FILE	*fpfieldcenter;
    FILE	*fpcorrplotout;
    FILE	*fpcorrmatrixout;
    FILE	*fpstatout;
    FILE	*fpcorrhistout;
    FILE	*fppoptrainout;
    FILE	*fpspiketrainout;
    FILE	*fprange;
    FILE	*fpdout;
    FILE	*fpspeedout;
    FILE	*fpparms;
    FILE	*fperr;
    FILE	*fpbayesianout;
    float	*peak;
    GridPosition	*peakloc;
    float	sparsity_cutoff;
    int32_t		nactivep;
    int32_t		nactivec;
    int32_t		nreconactivec;
    int32_t		comparepositions;
    DualPosition	*position;
    Position	*calcposition;
    float	*speed;
    int32_t		smoothgrid;
    int32_t		smoothcorr;
    float	meanpositionerror;
    int32_t		ambiguous;
    int32_t		nambiguous;
    float	minpeak;
    int32_t		minspikes;
    int32_t		maxspikes;
    float	minrate;
    float	maxrate;
    int32_t		occcutoff;
    float	fraction;
    int32_t		useallclusters;
    int32_t		maxtraversal;
    int32_t		traversal_threshold;
    TNode	*trajectory_tree;
    int32_t		treeoutputformat;
    int32_t		replay_threshold;
    int32_t		spike_bin_offset;
    int32_t		position_bin_offset;
    int32_t		position_bin_search;
    int32_t		position_bin_avg;
    int32_t		suppress_replay_firing;
    int32_t		replay_optimize;
    int32_t		tmax;
    int32_t		peak_search_window;
    int32_t		min_corr_events;
    int32_t		min_totalcorr_events;
    int32_t		peakwidth;
    float	peakcutoff;
    double	*binmean;
    double	*binsd;
    char	**clustername;
    int32_t		withinprobe;
    int32_t		betweenprobe;
    int32_t		showallcorrs;
    float	peakfrac;
    float	corrtest;
    int32_t		has_tstart;
    int32_t		has_tend;
    int32_t		reconhas_tstart;
    int32_t		reconhas_tend;
    int32_t		gerstein;
    int32_t		bayesian;
    int32_t		make_trajectory_tree;
    int32_t		requested_node_id;
    int32_t		reconstruct;
    int32_t		replay_fields;
    int32_t		spike_correlations;
    CorrList	*corrlist;
    int32_t		sortcorr;
    int32_t		pshuffle;
    int32_t		vshuffle;
    int32_t		nranges;
    int32_t		nreconranges;
    int32_t		maxranges;
    Range	*range;
    Range	*reconrange;
    TimeBinStatus	*timebinstatus;
    int32_t		corrhistsignbias;
    int32_t		loadspikes;
    int32_t		binspikes;
    int32_t		skew_window;
    int32_t		hasparameters;
    int32_t		popthresh;
    float	zerosqueeze;
    int32_t		skewnormalize;
    int32_t		skewcount;
    int32_t		limitclusters;
    int32_t		xresolution;
    int32_t		yresolution;
    int32_t		spatially_restrict_corr;
    char	prefix[80];
    int32_t		useprefix;
    int32_t		rawhist;
    int32_t		posinterpolate;
    int32_t		smoothspikes;
    int32_t		asciiout;
    float	*zerop;
    float	*nonzerop;
    int32_t		ntotalocc;
    float	zerolevel;
} Result;

